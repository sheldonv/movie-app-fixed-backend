(this.webpackJsonpsass=this.webpackJsonpsass||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(14),i=c.n(r),o=(c(60),c(2)),l=(c.p,c(61),c(6)),j=c(5),u=c(3),d=c.n(u),b=c(7),O=c(4),h=(c(63),c(64),function(e){return Object(n.jsx)("li",{className:"movie-item",children:Object(n.jsxs)(j.b,{to:"/movie/".concat(e.id),children:[Object(n.jsx)("div",{className:"movie-item__image",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.image)})}),Object(n.jsx)("div",{className:"movie-item__title",children:Object(n.jsx)("h2",{children:e.title})})]})})}),p=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(a.useRef)([]),u=Object(a.useCallback)(function(){var e=Object(O.a)(d.a.mark((function e(t){var c,a,s,r,i,o,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),r=new AbortController,j.current.push(r),e.prev=6,e.next=9,fetch(t,{method:c,body:a,headers:s,signal:r.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(o=e.sent,j.current=j.current.filter((function(e){return e!==r})),i.ok){e.next=16;break}throw new Error(o.message);case 16:return n(!1),e.abrupt("return",o);case 20:throw e.prev=20,e.t0=e.catch(6),l(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){return function(){j.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:c,error:i,sendRequest:u,clearError:function(){l(null)}}},m=function(e){var t=p().sendRequest,c=2,r=Object(a.useCallback)((function(n){var a=n.target.previousElementSibling,s=a.scrollLeft;n.preventDefault();var r={left:s+1230,behavior:"smooth"};a.scrollTo(r);var i=document.getElementsByClassName("movie-list");console.log(i);for(var o=!1,l=function(){var n=Object(O.a)(d.a.mark((function n(){var a,s,r,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Math.ceil(this.scrollLeft),s=this.scrollWidth,r=this.clientWidth,console.log([a,s,r]),a+r!==s){n.next=16;break}return n.next=7,e.count(c);case 7:return console.log("count",c),console.log(e.url),n.next=11,t("".concat("http://localhost:3000","/movie/home/").concat(e.url,"/").concat(c),"GET",null);case 11:return i=n.sent,console.log(i.results),n.next=15,e.parentCallback(i.results);case 15:c++;case 16:o=!1,this.scroll=function(){o=!0},setInterval((function(){o&&(o=!1,console.log("loading"))}),300);case 19:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),j=0;j<i.length;j++)i[j].addEventListener("scroll",l,!1)}),[]),i=Object(a.useCallback)((function(e){var t=e.target;console.log(t);var c=t.nextElementSibling;console.log(c);var n=c.scrollWidth,a=c.scrollLeft,s=n-a;e.preventDefault();var r={left:a-1230,behavior:"smooth"};c.scrollTo(r),console.log(s);var i=document.getElementsByClassName("movie-list");console.log(i);for(var o=function(){var e=this.clientWidth,t=this.scrollLeft,c=this.scrollWidth;console.log([t,c,e])},l=0;l<i.length;l++)i[l].addEventListener("click",o,!1)}),[]);return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"movie-row",children:[Object(n.jsx)("i",{onClick:i,className:"fas fa-chevron-left forward",children:"right"}),Object(n.jsx)("ul",{id:e.id,className:"movie-list",children:e.movies.map((function(e){return Object(n.jsx)(h,{image:e.poster_path,title:e.original_title,id:e.id,rating:e.voter_average})}))}),Object(n.jsx)("i",{onClick:r,className:"fas fa-chevron-right back",children:"left"})]})})},x=c(8),v=c(24),f="REQUIRE",g=function(){return{type:f}},N=function(e,t){var c,n=!0,a=Object(v.a)(t);try{for(a.s();!(c=a.n()).done;){c.value.type===f&&(n=n&&e.trim().length>0)}}catch(s){a.e(s)}finally{a.f()}return n},k=(c(70),function(e,t){switch(t.type){case"input-change":return Object(x.a)(Object(x.a)({},e),{},{value:t.value,isValid:N(t.value,t.validators)});default:return e}}),C=function(e){var t=Object(a.useReducer)(k,{value:e.value||"",isValid:e.valid||!1}),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(x.a)({},r),j=l.value,u=l.isValid,d=e.id,b=e.onChange;Object(a.useEffect)((function(){b(d,j,u)}),[d,j,u,b]);var O,h=Object(a.useCallback)((function(t){i({type:"input-change",value:t.target.value,validators:e.validators})}),[]);switch(e.element){case"input":O=Object(n.jsx)("input",{type:"text",className:e.search?"input_search":"input_regular",placeholder:e.placeholder,onChange:h,value:r.value});break;case"dropDown":O=Object(n.jsx)("select",{onChange:h,value:r.value})}return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{children:[O,!r.isValid&&!e.search&&Object(n.jsx)("p",{children:"Please Enter Some Text"})]})})},w=(c(71),c(72),c(123)),y=function(e){var t=Object(n.jsxs)("div",{className:"modal ".concat(e.modalClass),onClick:e.onClick,children:[Object(n.jsx)("div",{className:"modal-header ".concat(e.headerClass),children:Object(n.jsx)("h1",{children:e.header})}),Object(n.jsx)("div",{className:"modal-content ".concat(e.contentClass),children:e.children}),Object(n.jsx)("footer",{className:"modal-footer ".concat(e.footerClass),children:e.footer})]});return Object(n.jsx)(w.a,{classNames:"modal",in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,children:t})},_=function(){var e=p().sendRequest,t=Object(a.useState)(!0),c=Object(o.a)(t,2),r=(c[0],c[1],Object(a.useState)([])),i=Object(o.a)(r,2),l=i[0],j=i[1],u=Object(a.useState)([]),h=Object(o.a)(u,2),x=h[0],v=h[1],f=Object(a.useState)([]),g=Object(o.a)(f,2),N=g[0],k=g[1],C=Object(a.useState)([]),w=Object(o.a)(C,2),y=w[0],_=w[1],S=Object(a.useState)(!0),E=Object(o.a)(S,2),I=E[0],T=E[1],L=Object(a.useState)(!0),R=Object(o.a)(L,2),D=R[0],P=R[1],V=Object(a.useState)(!0),B=Object(o.a)(V,2),G=B[0],F=B[1],A=Object(a.useState)(!0),M=Object(o.a)(A,2),U=M[0],q=M[1],J=Object(a.useState)(!0),W=Object(o.a)(J,2),z=W[0],H=W[1],K=Object(a.useState)(1),Y=Object(o.a)(K,2),Q=Y[0],X=Y[1],Z=Object(a.useState)(1),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useState)(1),ne=Object(o.a)(ce,2),ae=ne[0],se=ne[1],re=Object(a.useState)(1),ie=Object(o.a)(re,2),oe=ie[0],le=ie[1];Object(a.useEffect)((function(){var e=I&&D&&G&&U;console.log(z),H(e)}),[]),Object(a.useEffect)(Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(!0),function(){var t=Object(O.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("".concat("http://localhost:3000","/movie/home/now_playing/").concat(Q),"GET",null);case 2:return c=t.sent,t.next=5,j((function(e){return[].concat(Object(b.a)(e),Object(b.a)(c.results))}));case 5:console.log(c.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),T(!1);case 4:case"end":return t.stop()}}),t)}))),[e]),Object(a.useEffect)(Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(!0),function(){var t=Object(O.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("".concat("http://localhost:3000","/movie/home/popular/").concat(oe),"GET",null);case 2:return c=t.sent,t.next=5,v((function(e){return[].concat(Object(b.a)(e),Object(b.a)(c.results))}));case 5:console.log(c.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),P(!1);case 4:case"end":return t.stop()}}),t)}))),[e]),Object(a.useEffect)(Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(!0),function(){var t=Object(O.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("".concat("http://localhost:3000","/movie/home/top_rated/").concat(ee),"GET",null);case 2:return c=t.sent,t.next=5,k((function(e){return[].concat(Object(b.a)(e),Object(b.a)(c.results))}));case 5:console.log(c.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),F(!1);case 4:case"end":return t.stop()}}),t)}))),[e]),Object(a.useEffect)(Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(!0),function(){var t=Object(O.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("".concat("http://localhost:3000","/movie/home/coming_soon/").concat(ae),"GET",null);case 2:return c=t.sent,t.next=5,_((function(e){return[].concat(Object(b.a)(e),Object(b.a)(c.results))}));case 5:console.log(c.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),q(!1);case 4:case"end":return t.stop()}}),t)}))),[e]);var je=Object(a.useCallback)((function(e){j((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))}),[]),ue=Object(a.useCallback)((function(e){v((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))}),[]),de=Object(a.useCallback)((function(e){k((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))}),[]),be=Object(a.useCallback)((function(e){_((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))}),[]);Object(a.useEffect)((function(){}),[l]);var Oe=Object(a.useCallback)((function(e){X(e)}),[]),he=Object(a.useCallback)((function(e){le(e)}),[]),pe=Object(a.useCallback)((function(e){te(e)}),[]),me=Object(a.useCallback)((function(e){se(e)}),[]);return Object(n.jsxs)(s.a.Fragment,{children:[l&&!I&&Object(n.jsxs)("div",{className:"home-row",children:[Object(n.jsx)("h2",{children:"NOW PLAYING"}),Object(n.jsx)(m,{url:"now_playing",id:"nowPlaying",movies:l,count:Oe,parentCallback:je})]}),x&&!D&&Object(n.jsxs)("div",{className:"home-row",children:[Object(n.jsx)("h2",{children:"POPULAR"}),Object(n.jsx)(m,{url:"popular",id:"popular",movies:x,count:he,parentCallback:ue})]}),N&&!G&&Object(n.jsxs)("div",{className:"home-row",children:[Object(n.jsx)("h2",{children:"TOP RATED"}),Object(n.jsx)(m,{url:"top_rated",id:"topRated",movies:N,count:pe,parentCallback:de})]}),y&&!U&&Object(n.jsxs)("div",{className:"home-row",children:[Object(n.jsx)("h2",{children:"COMING SOON"}),Object(n.jsx)(m,{url:"coming_soon",id:"comingSoon",movies:y,count:me,parentCallback:be})]})]})},S=(c(73),c(74),function(e){return Object(n.jsx)(j.b,{to:"/actor/".concat(e.id),children:Object(n.jsxs)("div",{className:"cast-member",children:[Object(n.jsx)("div",{className:"cast-member__image",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.image)})}),Object(n.jsx)("div",{children:Object(n.jsx)("h3",{className:"cast-member__name",children:e.name})})]})})}),E=(c(75),function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1];return Object(n.jsxs)("div",{id:e.movieId,children:[!s&&Object(n.jsx)("img",{onClick:function(){r(!0)},src:"https://img.youtube.com/vi/".concat(e.id,"/default.jpg")}),Object(n.jsx)(y,{show:s,header:e.title,modalClass:"modalClass",footerClass:"footerClass",headerClass:"headerClass",contentClass:"contentClass",footer:Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),r(!1),console.log("reached"),console.log(s)},children:"CLOSE"}),children:Object(n.jsx)("iframe",{width:"420",height:"345",src:"https://www.youtube.com/embed/".concat(e.id,"?autoplay"),frameborder:"0",allowFullScreen:!0})})]})}),I=Object(a.createContext)({isLoggedIn:!1,token:null,login:function(){},logout:function(){},userId:null,userName:null}),T=(c(76),c(77),function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"reply",children:[Object(n.jsx)("div",{className:"reply__image",children:Object(n.jsx)("img",{src:e.image?e.image:"https://www.stylist.co.uk/images/app/uploads/2016/07/25063058/alicia-keys-1-256x256.jpg?w=256&h=256&fit=max&auto=format%2Ccompress",alt:"Alicia Keys"})}),Object(n.jsxs)("div",{className:"reply__info",children:[Object(n.jsx)("p",{children:e.name}),Object(n.jsx)("p",{children:e.reply}),Object(n.jsx)("a",{children:"Like "})," . ",Object(n.jsx)("a",{onClick:function(){},children:"Reply"})," . ",Object(n.jsx)("span",{children:"9m"})]})]})})}),L=function(e){var t=Object(a.useContext)(I),c=p().sendRequest,s=Object(a.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(a.useState)(),u=Object(o.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(null),x=Object(o.a)(m,2),v=x[0],f=x[1],g=Object(a.useState)(!1),N=Object(o.a)(g,2),k=N[0],C=N[1];Object(a.useEffect)(Object(O.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(O.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c("".concat("http://localhost:3000","/movieSaved/replies/").concat(e.leadCommentId),"GET",null);case 2:return n=t.sent,console.log(n),t.next=6,f(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=3,n();case 3:C(!0);case 4:case"end":return t.stop()}}),t)}))),[c]);var w=function(){var c=Object(O.a)(d.a.mark((function c(n){var a,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.next=3,fetch("".concat("http://localhost:3000","/movieSaved/replies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadCommentId:e.leadCommentId,replyTo:e.creator,comment:"@"+e.name+"  "+b,creator:t.userId})});case 3:return a=c.sent,c.next=6,a.json();case 6:s=c.sent,console.log(s);case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"profile-description",children:[Object(n.jsx)("div",{className:"profile-image",children:Object(n.jsx)("img",{src:e.image})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:e.name}),Object(n.jsx)("p",{children:e.comment}),Object(n.jsx)("a",{children:"Like "})," . ",Object(n.jsx)("a",{onClick:function(e){e.preventDefault(),l((function(e){return!e}))},children:"Reply"})," . ",Object(n.jsx)("span",{children:"9m"})]})]}),i&&Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{onChange:function(e){var t=e.target.value;h(t)}}),Object(n.jsx)("br",{})," ",Object(n.jsx)("button",{onClick:w,children:"Reply"})]}),k&&Object(n.jsx)("div",{className:"replies",children:v.map((function(e){return Object(n.jsx)(T,{image:e.creator.image,reply:e.comment,name:e.creator.name})}))})]})},R=function(e){var t=Object(a.useContext)(I),c=Object(l.g)().movie_id,r=Object(a.useState)(),i=Object(o.a)(r,2),j=i[0],u=i[1],b=Object(a.useState)(),h=Object(o.a)(b,2),m=h[0],x=h[1],v=Object(a.useState)(),f=Object(o.a)(v,2),g=(f[0],f[1]),N=p().sendRequest,k=Object(a.useState)(!1),C=Object(o.a)(k,2),w=(C[0],C[1],Object(a.useState)()),y=Object(o.a)(w,2),_=y[0],T=y[1],R=Object(a.useState)(!1),D=Object(o.a)(R,2),P=D[0],V=D[1],B=Object(a.useState)(),G=Object(o.a)(B,2),F=G[0],A=G[1];Object(a.useEffect)(Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,N("".concat("http://localhost:3000","/movie/home/").concat(c),"GET",null);case 3:return t=e.sent,e.next=6,u(t);case 6:console.log(t),x(!1);case 8:case"end":return e.stop()}}),e)}))),[N,c]),Object(a.useEffect)(Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,N("".concat("http://localhost:3000","/movieSaved/comments/").concat(c),"GET",null);case 3:return t=e.sent,e.next=6,A(t);case 6:console.log(t),x(!1);case 8:case"end":return e.stop()}}),e)}))),[N]),Object(a.useEffect)((function(){return function(){console.log("useEffect")}}),[]);Object(a.useCallback)((function(e){g(e)}),[]);var M=function(){var e=Object(O.a)(d.a.mark((function e(n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reached"),n.preventDefault(),console.log(_,c,t.userId),e.next=5,fetch("".concat("http://localhost:3000","/movieSaved"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token},body:JSON.stringify({movieId:c,comment:_,creator:t.userId,userName:t.userName})});case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,console.log(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(s.a.Fragment,{children:j&&!m&&Object(n.jsxs)("div",{className:"movie-page",children:[Object(n.jsx)("div",{className:"movie-page__main-image",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(j.backdrop_path)})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{className:"movie-title",children:[j.original_title,Object(n.jsxs)("span",{className:"movie-release",children:["  (",j.release_date.slice(0,4),")"]})]})}),Object(n.jsx)("div",{className:"movie-page__info-wrapper",children:Object(n.jsxs)("div",{className:"movie-page__info",children:[Object(n.jsxs)("div",{className:"movie-page__info-bar",children:[Object(n.jsxs)("span",{children:[j.runtime," min"]}),Object(n.jsx)("span",{children:j.genres[0].name}),Object(n.jsx)("span",{children:Object(n.jsx)("a",{href:"https://www.imdb.com/title/".concat(j.imdb_id,"/?ref_=hm_inth_1"),children:"IMDB"})}),Object(n.jsxs)("span",{className:"movie-page__rating",children:[Object(n.jsx)("i",{class:"fas fa-star rating-icon"}),Object(n.jsx)("span",{children:j.vote_average})]})]}),Object(n.jsx)("div",{})]})}),Object(n.jsxs)("div",{className:"movie-profile",children:[Object(n.jsx)("div",{className:"movie-profile__image",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(j.poster_path)})}),Object(n.jsx)("div",{className:"movie-profile__info",children:Object(n.jsx)("p",{children:j.overview.slice(0,250)})})]}),Object(n.jsxs)("div",{className:"videos",children:[Object(n.jsx)("h2",{children:"Videos"}),Object(n.jsx)("div",{className:"movie-page__videos",children:j.videos.results.map((function(e){return Object(n.jsx)(E,{onClick:Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.key),t.next=3,g(e.key);case 3:console.log(j);case 4:case"end":return t.stop()}}),t)}))),movieId:e.key,title:j.original_title,id:e.key})}))})]}),Object(n.jsxs)("div",{className:"comments-wrapper",id:"comments-wrapper",children:[Object(n.jsx)("div",{onClick:function(){V((function(e){return!e})),console.log(F)},children:Object(n.jsx)("h2",{className:"comments-title",children:"Comments"})}),P&&Object(n.jsxs)("div",{className:"comment-handler",children:[Object(n.jsx)("input",{placeholder:"Add a Comment",id:"comment",className:"comments-input",onChange:function(e){var t=e.target.value;T(t)}}),Object(n.jsx)("button",{onClick:M,children:"POST"})]}),P&&F&&Object(n.jsx)("div",{children:F.leadComments.map((function(e){return Object(n.jsx)(L,{image:"".concat(e.creator.image),leadCommentId:e._id,creator:e.creator,name:e.userName,comment:e.comment})}))}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{})]}),Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"credits",children:[Object(n.jsx)("h2",{children:"Credits"}),j.credits.cast.map((function(e){return Object(n.jsx)(S,{image:e.profile_path,name:e.name,id:e.id})}))]})]})})},D=(c(78),c(79),function(e){return Object(n.jsx)("nav",{className:"main-header ".concat(e.className),children:e.children})}),P=(c(80),c(23)),V=function(e,t){console.log("reached");var c=!0;switch(t.type){case"change":for(var n in e.Inputs)e.Inputs[n]&&(c=n===t.id?c&&t.isValid:c&&e.Inputs[n].isValid);return Object(x.a)(Object(x.a)({},e),{},{Inputs:Object(x.a)(Object(x.a)({},e.Inputs),{},Object(P.a)({},t.id,{value:t.value,isValid:t.isValid})),isValid:c});case"set-data":return{Inputs:t.Inputs,isValid:t.isValid}}},B=function(e,t){var c=Object(a.useReducer)(V,{Inputs:e,isValid:t}),n=Object(o.a)(c,2),s=n[0],r=n[1];return[s,Object(a.useCallback)((function(e,t,c){r({type:"change",id:e,value:t,isValid:c})}),[]),Object(a.useCallback)((function(e,t){r({type:"set-data",Inputs:e,isValid:t})}),[])]},G=(c(81),Object(a.createContext)({tvReady:!1,movieReady:!1,peopleReady:!1,pingMovie:function(){},pingTv:function(){},pingPeople:function(){}})),F=function(e){var t=Object(a.useState)(),c=Object(o.a)(t,2),r=(c[0],c[1],Object(a.useState)(!1)),i=Object(o.a)(r,2),l=(i[0],i[1]),j=(Object(a.useContext)(G),Object(a.useState)({movie:!1,tv:!1,person:!1})),u=Object(o.a)(j,2),b=u[0],h=u[1],p=function(){var t=Object(O.a)(d.a.mark((function t(c){var n,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(c.target.value),(n=c.target.value)&&0!==n.trim().lenth){t.next=10;break}return console.log("reached"),t.next=6,e.parentCallback([]);case 6:return t.next=8,e.present(b);case 8:t.next=27;break;case 10:return e.loading(!0),t.next=13,fetch("".concat("http://localhost:3000","/search/database/").concat(n),{method:"GET",headers:{"Content-Type":"application/json"},body:null});case 13:return a=t.sent,t.next=16,a.json();case 16:return s=t.sent,console.log(s.results),s.results.map((function(e){"tv"===e.media_type&&h(Object(x.a)(Object(x.a)({},b),{},{tv:"TV"})),"movie"===e.media_type&&h(Object(x.a)(Object(x.a)({},b),{},{movie:"MOVIE"})),"person"===e.media_type&&h(Object(x.a)(Object(x.a)({},b),{},{person:"PERSON"}))})),t.next=21,e.parentCallback(s.results);case 21:return t.next=23,e.showResults(!0);case 23:return t.next=25,e.present(b);case 25:l(!1),setTimeout((function(){e.loading(!1)}));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"searchBar",children:[Object(n.jsx)("input",{className:"input_search",id:"search",search:!0,element:"input",validators:[g()],placeholder:"Search",onChange:p}),Object(n.jsx)("span",{onClick:e.onClick,className:"showSearch",style:{fontSize:"3rem",marginRight:"1rem",paddingLeft:"1rem"},children:Object(n.jsx)("i",{class:"fas fa-times"})})]})})},A=(c(30),c(21),function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=(u[0],u[1],Object(a.useContext)(G));e.results.length;var b=function(){e.clicked(!0)},O=[];return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"ready",children:[e.present&&r&&Object(n.jsx)("h2",{className:"category",children:"MOVIE"}),e.results.map((function(t){return Object(n.jsx)(j.b,{className:"searchBarResults",to:"/movie/".concat(t.id),exact:"true",children:Object(n.jsxs)("div",{onClick:b,className:"searchBarLink",children:[Object(n.jsx)("div",{className:"searchBarLink__image",children:Object(n.jsx)("img",{onLoad:function(){O.push(!0),O.length===e.results.length&&(d.pingMovie(),!0,console.log(d.movieReady),i(!0))},src:"https://image.tmdb.org/t/p/original/".concat(t.poster_path)})}),Object(n.jsx)("h2",{children:t.title})]})})}))]})})}),M=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(!0),l=Object(o.a)(i,2),u=(l[0],l[1],Object(a.useState)("#ffffff")),d=Object(o.a)(u,2),b=(d[0],d[1],Object(a.useContext)(G));e.results.length;var O=function(){e.clicked(!0)},h=[];return Object(n.jsxs)("div",{className:"ready",children:[e.present&&s&&Object(n.jsx)("h2",{className:"category",children:"TV"}),e.results.map((function(t){return Object(n.jsx)(j.b,{onclick:O,className:"searchBarResults",to:"/movie/".concat(t.id),exact:"true",children:Object(n.jsxs)("div",{className:"searchBarLink",children:[Object(n.jsx)("div",{className:"searchBarLink__image",children:Object(n.jsx)("img",{onLoad:function(){h.push(!0),h.length===e.results.length&&(b.pingTv(),!0,r(!0),console.log(b.tvReady))},src:"https://image.tmdb.org/t/p/original/".concat(t.poster_path)})}),Object(n.jsx)("h2",{children:t.name})]})})}))]})},U=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(!0),l=Object(o.a)(i,2),u=(l[0],l[1],Object(a.useContext)(G));e.results.length;var d=[];return Object(n.jsxs)("div",{className:"ready",children:[e.present&&s&&Object(n.jsx)("h2",{className:"category",children:"PEOPLE"}),e.results.map((function(t){return Object(n.jsx)(j.b,{className:"searchBarResults",to:"/actor/".concat(t.id),exact:"true",children:Object(n.jsxs)("div",{className:"searchBarLink",children:[Object(n.jsx)("div",{className:"searchBarLink__image",children:Object(n.jsx)("img",{onLoad:function(){d.push(!0),d.length===e.results.length&&(u.pingPeople(),console.log(u.peopleReady),!0,r(!0))},src:"https://image.tmdb.org/t/p/original/".concat(t.profile_path)})}),Object(n.jsx)("h2",{children:t.name})]})})}))]})},q=(c(100),function(e){return Object(n.jsx)(w.a,{onClick:e.onClick,in:e.show,classNames:"side-drawer",unmountOnExit:!0,mountOnEnter:!0,timeout:200,children:Object(n.jsx)("div",{className:"side-drawer",children:e.children})})}),J=(c(101),function(e){return Object(n.jsx)("div",{onClick:e.onClick,className:"back-drop"})}),W=(c(102),function(e){var t=Object(a.useContext)(I);return Object(n.jsxs)("ul",{className:"nav-links ".concat(e.className),children:[!t.isLoggedIn&&Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:"/signup",children:"SIGN UP"})}),!t.isLoggedIn&&Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:"/login",children:"LOGIN"})}),t.isLoggedIn&&Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:"/",children:"LOGOUT"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:"/profile",children:"PROFILE"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:"/discover",children:"DISCOVER"})})]})}),z=function(e){var t=Object(a.useContext)(I),c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(a.useState)([]),d=Object(o.a)(u,2),b=d[0],O=d[1],h=Object(a.useState)(!1),p=Object(o.a)(h,2),m=p[0],x=p[1],v=Object(a.useState)(),f=Object(o.a)(v,2),g=(f[0],f[1],Object(a.useState)()),N=Object(o.a)(g,2),k=N[0],C=N[1],w=Object(a.useState)(!1),y=Object(o.a)(w,2),_=(y[0],y[1]),S=Object(a.useState)(!1),E=Object(o.a)(S,2),T=(E[0],E[1],Object(a.useState)(!1)),L=Object(o.a)(T,2),R=(L[0],L[1],Object(a.useState)({movie:null,tv:null,person:null})),P=Object(o.a)(R,2),V=P[0],B=P[1],z=[],H=[],K=[],Y=Object(a.useState)(),Q=Object(o.a)(Y,2),X=(Q[0],Q[1],Object(a.useState)(!1)),Z=Object(o.a)(X,2),$=(Z[0],Z[1]),ee=Object(a.useState)("#ffffff"),te=Object(o.a)(ee,2),ce=(te[0],te[1],Object(a.useState)(!1)),ne=Object(o.a)(ce,2),ae=(ne[0],ne[1]),se=Object(a.useState)(!1),re=Object(o.a)(se,2),ie=(re[0],re[1]),oe=Object(a.useState)(!1),le=Object(o.a)(oe,2),je=(le[0],le[1]),ue=(Object(a.useContext)(G),Object(a.useState)()),de=Object(o.a)(ue,2),be=(de[0],de[1],function(){C(!1)});Object(a.useCallback)((function(e){_(e)}),[]);return Object(n.jsxs)(s.a.Fragment,{children:[k&&Object(n.jsx)(J,{onClick:be}),Object(n.jsx)(q,{onClick:be,show:k,children:Object(n.jsx)(W,{className:"side-drawer__nav"})}),Object(n.jsxs)(D,{className:"main-header-nav",children:[!i&&Object(n.jsxs)("div",{className:"nav-left",children:[Object(n.jsxs)("button",{onClick:function(){C(!0)},className:"main-header-nav__button",children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]}),Object(n.jsx)("h1",{className:"main-header-nav__title",children:Object(n.jsx)(j.b,{to:"/",children:"CINEMA_DL"})})]}),!i&&!t.isLoggedIn&&Object(n.jsxs)("div",{onClick:function(){l(!0)},className:"nav-right",children:[Object(n.jsx)("span",{style:{fontSize:"2rem",marginRight:"3rem"},children:Object(n.jsx)("i",{className:"fas fa-search"})}),Object(n.jsx)("h2",{children:"Sign in"})]}),t.isLoggedIn&&Object(n.jsx)("button",{onClick:t.logout,children:"LOGOUT"}),i&&Object(n.jsx)(F,{loading:function(e){},results:!0,onClick:function(){l(!1),x(!1)},present:function(e){B(e),console.log(V)},showResults:function(e){x(e)},parentCallback:function(e){O(e)}})]}),Object(n.jsx)(s.a.Fragment,{children:m&&Object(n.jsxs)("div",{onClick:function(){x(!1)},className:"resultsHolder",children:[b.filter((function(e){return"movie"===e.media_type})).slice(0,5).map((function(e){"movie"===e.media_type&&(z.push(e),console.log(z))})),z.length>0&&Object(n.jsx)(A,{moviePresent:!0,movieReady:!0,moviesImages:function(e){ie(!0)},clicked:function(e){l(!1),console.log(e)},present:z.length>0,results:z}),b.filter((function(e){return"tv"===e.media_type})).slice(0,5).map((function(e){"tv"===e.media_type&&(H.push(e),console.log(H))})),H.length>0&&Object(n.jsx)(M,{tvImages:function(e){ae(e)},present:H.length>0,results:H}),b.filter((function(e){return"person"===e.media_type})).slice(0,5).map((function(e){"person"===e.media_type&&e.profile_path&&(K.push(e),console.log(K))})),z.length>0&&Object(n.jsx)(U,{peopleImages:function(e){je(e)},imageLoaded:function(e){$(!1)},present:K.length>0,results:K})]})})]})},H=function(e){return Object(n.jsxs)("select",{id:e.id,name:"dob-year",className:e.className,children:[Object(n.jsx)("option",{value:"",children:"Year"}),Object(n.jsx)("option",{value:"2012",children:"2012"}),Object(n.jsx)("option",{value:"2011",children:"2011"}),Object(n.jsx)("option",{value:"2010",children:"2010"}),Object(n.jsx)("option",{value:"2009",children:"2009"}),Object(n.jsx)("option",{value:"2008",children:"2008"}),Object(n.jsx)("option",{value:"2007",children:"2007"}),Object(n.jsx)("option",{value:"2006",children:"2006"}),Object(n.jsx)("option",{value:"2005",children:"2005"}),Object(n.jsx)("option",{value:"2004",children:"2004"}),Object(n.jsx)("option",{value:"2003",children:"2003"}),Object(n.jsx)("option",{value:"2002",children:"2002"}),Object(n.jsx)("option",{value:"2001",children:"2001"}),Object(n.jsx)("option",{value:"2000",children:"2000"}),Object(n.jsx)("option",{value:"1999",children:"1999"}),Object(n.jsx)("option",{value:"1998",children:"1998"}),Object(n.jsx)("option",{value:"1997",children:"1997"}),Object(n.jsx)("option",{value:"1996",children:"1996"}),Object(n.jsx)("option",{value:"1995",children:"1995"}),Object(n.jsx)("option",{value:"1994",children:"1994"}),Object(n.jsx)("option",{value:"1993",children:"1993"}),Object(n.jsx)("option",{value:"1992",children:"1992"}),Object(n.jsx)("option",{value:"1991",children:"1991"}),Object(n.jsx)("option",{value:"1990",children:"1990"}),Object(n.jsx)("option",{value:"1989",children:"1989"}),Object(n.jsx)("option",{value:"1988",children:"1988"}),Object(n.jsx)("option",{value:"1987",children:"1987"}),Object(n.jsx)("option",{value:"1986",children:"1986"}),Object(n.jsx)("option",{value:"1985",children:"1985"}),Object(n.jsx)("option",{value:"1984",children:"1984"}),Object(n.jsx)("option",{value:"1983",children:"1983"}),Object(n.jsx)("option",{value:"1982",children:"1982"}),Object(n.jsx)("option",{value:"1981",children:"1981"}),Object(n.jsx)("option",{value:"1980",children:"1980"}),Object(n.jsx)("option",{value:"1979",children:"1979"}),Object(n.jsx)("option",{value:"1978",children:"1978"}),Object(n.jsx)("option",{value:"1977",children:"1977"}),Object(n.jsx)("option",{value:"1976",children:"1976"}),Object(n.jsx)("option",{value:"1975",children:"1975"}),Object(n.jsx)("option",{value:"1974",children:"1974"}),Object(n.jsx)("option",{value:"1973",children:"1973"}),Object(n.jsx)("option",{value:"1972",children:"1972"}),Object(n.jsx)("option",{value:"1971",children:"1971"}),Object(n.jsx)("option",{value:"1970",children:"1970"}),Object(n.jsx)("option",{value:"1969",children:"1969"}),Object(n.jsx)("option",{value:"1968",children:"1968"}),Object(n.jsx)("option",{value:"1967",children:"1967"}),Object(n.jsx)("option",{value:"1966",children:"1966"}),Object(n.jsx)("option",{value:"1965",children:"1965"}),Object(n.jsx)("option",{value:"1964",children:"1964"}),Object(n.jsx)("option",{value:"1963",children:"1963"}),Object(n.jsx)("option",{value:"1962",children:"1962"}),Object(n.jsx)("option",{value:"1961",children:"1961"}),Object(n.jsx)("option",{value:"1960",children:"1960"}),Object(n.jsx)("option",{value:"1959",children:"1959"}),Object(n.jsx)("option",{value:"1958",children:"1958"}),Object(n.jsx)("option",{value:"1957",children:"1957"}),Object(n.jsx)("option",{value:"1956",children:"1956"}),Object(n.jsx)("option",{value:"1955",children:"1955"}),Object(n.jsx)("option",{value:"1954",children:"1954"}),Object(n.jsx)("option",{value:"1953",children:"1953"}),Object(n.jsx)("option",{value:"1952",children:"1952"}),Object(n.jsx)("option",{value:"1951",children:"1951"}),Object(n.jsx)("option",{value:"1950",children:"1950"}),Object(n.jsx)("option",{value:"1949",children:"1949"}),Object(n.jsx)("option",{value:"1948",children:"1948"}),Object(n.jsx)("option",{value:"1947",children:"1947"}),Object(n.jsx)("option",{value:"1946",children:"1946"}),Object(n.jsx)("option",{value:"1945",children:"1945"}),Object(n.jsx)("option",{value:"1944",children:"1944"}),Object(n.jsx)("option",{value:"1943",children:"1943"}),Object(n.jsx)("option",{value:"1942",children:"1942"}),Object(n.jsx)("option",{value:"1941",children:"1941"}),Object(n.jsx)("option",{value:"1940",children:"1940"}),Object(n.jsx)("option",{value:"1939",children:"1939"}),Object(n.jsx)("option",{value:"1938",children:"1938"}),Object(n.jsx)("option",{value:"1937",children:"1937"}),Object(n.jsx)("option",{value:"1936",children:"1936"}),Object(n.jsx)("option",{value:"1935",children:"1935"}),Object(n.jsx)("option",{value:"1934",children:"1934"}),Object(n.jsx)("option",{value:"1933",children:"1933"}),Object(n.jsx)("option",{value:"1932",children:"1932"}),Object(n.jsx)("option",{value:"1931",children:"1931"}),Object(n.jsx)("option",{value:"1930",children:"1930"}),Object(n.jsx)("option",{value:"1929",children:"1929"}),Object(n.jsx)("option",{value:"1928",children:"1928"}),Object(n.jsx)("option",{value:"1927",children:"1927"}),Object(n.jsx)("option",{value:"1926",children:"1926"}),Object(n.jsx)("option",{value:"1925",children:"1925"}),Object(n.jsx)("option",{value:"1924",children:"1924"}),Object(n.jsx)("option",{value:"1923",children:"1923"}),Object(n.jsx)("option",{value:"1922",children:"1922"}),Object(n.jsx)("option",{value:"1921",children:"1921"}),Object(n.jsx)("option",{value:"1920",children:"1920"}),Object(n.jsx)("option",{value:"1919",children:"1919"}),Object(n.jsx)("option",{value:"1918",children:"1918"}),Object(n.jsx)("option",{value:"1917",children:"1917"}),Object(n.jsx)("option",{value:"1916",children:"1916"}),Object(n.jsx)("option",{value:"1915",children:"1915"}),Object(n.jsx)("option",{value:"1914",children:"1914"}),Object(n.jsx)("option",{value:"1913",children:"1913"}),Object(n.jsx)("option",{value:"1912",children:"1912"}),Object(n.jsx)("option",{value:"1911",children:"1911"}),Object(n.jsx)("option",{value:"1910",children:"1910"}),Object(n.jsx)("option",{value:"1909",children:"1909"}),Object(n.jsx)("option",{value:"1908",children:"1908"}),Object(n.jsx)("option",{value:"1907",children:"1907"}),Object(n.jsx)("option",{value:"1906",children:"1906"}),Object(n.jsx)("option",{value:"1905",children:"1905"}),Object(n.jsx)("option",{value:"1904",children:"1904"}),Object(n.jsx)("option",{value:"1903",children:"1903"}),Object(n.jsx)("option",{value:"1902",children:"1902"}),Object(n.jsx)("option",{value:"1901",children:"1901"}),Object(n.jsx)("option",{value:"1900",children:"1900"})]})},K=function(e){return Object(n.jsx)("div",{onClick:e.onClick,className:e.className,value:e.actor_id,"data-actor_id":e.actor_id,id:e.actor_id,children:e.name})},Y=(c(103),window.addEventListener||window.attachEvent,function(e){var t=p().sendRequest,c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],l=r[1],j=Object(a.useState)(),u=Object(o.a)(j,2),b=u[0],h=u[1],x=Object(a.useState)(),v=Object(o.a)(x,2),f=v[0],N=v[1],k=Object(a.useState)(!0),C=Object(o.a)(k,2),w=C[0],y=C[1],_=Object(a.useState)([1,2]),S=Object(o.a)(_,2),E=S[0],I=S[1],T=Object(a.useState)(!0),L=Object(o.a)(T,2),R=L[0],D=L[1],P=Object(a.useState)(),V=Object(o.a)(P,2),B=V[0],G=V[1];Object(a.useEffect)(Object(O.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,t("".concat("http://localhost:3000","/discover/genres"),"GET",null);case 3:return c=e.sent,e.next=6,l(c.genres);case 6:console.log(c.genres),h(!1),document.getElementById("name").focus(),document.getElementById("name").select();case 10:case"end":return e.stop()}}),e)}))),[t]);var F=function(){document.getElementById("actor-search").style.display="block"},A=function(){document.getElementById("actor-search").style.display="none"};Object(a.useEffect)((function(){var e=document.getElementById("name");e.addEventListener("blur",(function(){console.log("blur"),A(),console.log("reached")})),e.addEventListener("focus",(function(){console.log("focus"),F()}))}),[]);var M=function(){var e=Object(O.a)(d.a.mark((function e(t){var c,n,a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(B),t.preventDefault(),D(!0),c=(c=document.getElementById("genre")).value||null,n=(n=document.getElementById("year")).value||null,document.getElementById("name"),a=B||null,console.log(c,n,a),e.next=12,fetch("http://localhost:3000/discover/".concat(a,"/").concat(n,"/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});case 12:return s=e.sent,e.next=15,s.json();case 15:r=e.sent,I(r.results),console.log(r.results),D(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(d.a.mark((function e(t){var c,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),c=t.target.value,e.next=4,fetch("http://localhost:3000/search/actor/".concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log(a.results),N(a.results),console.log(c),y(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){console.log("reachted"),console.log(e.currentTarget.id),G(e.currentTarget.id),console.log(B)};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("form",{className:"form",children:[i&&!b&&Object(n.jsx)("div",{class:"custom-select form-element-div",children:Object(n.jsx)("select",{element:"dropDown",id:"genre",validators:[g()],children:i.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name})}))})}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)(H,{id:"year"})}),Object(n.jsxs)("div",{className:"name-input form-element-div",children:[Object(n.jsx)("input",{placeholder:"Search Actor",type:"text",onChange:U,id:"name"}),Object(n.jsx)("div",{className:"actor-search",id:"actor-search",children:!w&&f.map((function(e){return Object(n.jsx)(K,{onClick:q,name:e.name,actor_id:e.id})}))})]}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)("button",{onClick:M,children:"DISCOVER"})})]}),E&&!R&&Object(n.jsxs)("div",{className:"home-row",children:[Object(n.jsx)("h2",{children:"RESULTS"}),Object(n.jsx)(m,{movies:E})]})]})}),Q=(c(104),function(){var e=Object(O.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3000","/actorPage/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=function(e){var t=Object(a.useState)(null),c=Object(o.a)(t,2),r=c[0],i=c[1],j=Object(l.g)().actor_id,u=Object(a.useState)([]),b=Object(o.a)(u,2),h=(b[0],b[1],Object(a.useState)()),p=Object(o.a)(h,2),m=p[0],x=p[1],v=Object(a.useState)(),f=Object(o.a)(v,2),g=f[0],N=f[1],k=[];Object(a.useEffect)(Object(O.a)(d.a.mark((function e(){var t,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(j);case 2:t=e.sent,i(t),c=t.birthday.split("-"),n=new Date(c[0],c[1],c[2]).toString().split(" "),N("".concat(n[1]," ").concat(n[2]," ").concat(n[3])),t.images.profiles.length>0&&x(t.images.profiles[0].file_path);case 8:case"end":return e.stop()}}),e)}))),[]);return Object(n.jsx)("div",{children:r&&Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"actor-page",children:[Object(n.jsx)("h2",{className:"actor-page__name",children:r.name}),Object(n.jsx)("h3",{className:"actor-page__department",children:r.known_for_department}),Object(n.jsxs)("div",{className:"actor-page__image",children:[(r.tagged_images.results.map((function(e){k.push(e.media.backdrop_path)})),console.log(k)),Object(n.jsx)("div",{className:"actor-carousel",children:k[0]&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(k[0])})}),Object(n.jsxs)("div",{className:"actor-profile",children:[Object(n.jsx)("div",{className:"actor-profile__image",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(m)})}),Object(n.jsxs)("div",{className:"profile-info",children:[Object(n.jsxs)("p",{children:[r.biography.slice(0,120),"...."]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"Born:  "})," ",g]})]})]})]}),Object(n.jsxs)("div",{className:"actor-photos",children:[Object(n.jsx)("h2",{children:"Photos"}),Object(n.jsx)("div",{className:"profile-pic__carousel",children:r.images.profiles.slice(1).map((function(e){return Object(n.jsx)("div",{className:"profile-pic",children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.file_path)})})}))})]}),Object(n.jsxs)("div",{className:"actor-social",children:[Object(n.jsx)("h2",{children:"Media"}),Object(n.jsx)("span",{children:Object(n.jsx)("i",{class:"fab icon fa-twitter"})}),Object(n.jsx)("span",{children:Object(n.jsx)("i",{class:"fab icon fa-facebook-square"})}),Object(n.jsx)("span",{children:Object(n.jsx)("i",{class:"fab icon fa-instagram"})}),Object(n.jsx)("span",{})]})]})})})},Z=(c(105),c(44)),$=function(e){var t=Object(a.useState)(),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(),l=Object(o.a)(i,2),j=(l[0],l[1]),u=Object(a.useState)(),d=Object(o.a)(u,2),b=d[0],O=d[1],h=Object(a.useRef)();Object(a.useEffect)((function(){if(s){var e=new FileReader;e.onload=function(){O(e.result)},e.readAsDataURL(s)}}),[s]);return Object(n.jsxs)("div",{className:"image-upload",children:[Object(n.jsx)("input",{type:"file",accept:".png,.jpeg,.jpg",onChange:function(t){var c,n,a=t.target.files;a&&1===a.length?(c=a[0],r(c),j(!0),n=!0):(n=!1,Object(Z.a)("setIsValid"),j=!1),e.onInput(e.id,c,n)},ref:h,style:{display:"none"},id:e.id}),Object(n.jsx)("div",{className:"image-upload__preview",children:Object(n.jsx)("img",{src:b,alt:"preview"})}),Object(n.jsx)("button",{type:"button",onClick:function(){h.current.click()},children:"PICK IMAGE"})]})},ee=function(e){p().sendRequest;var t=Object(l.g)().profileId,c=Object(a.useContext)(I),s=Object(a.useCallback)(function(){var e=Object(O.a)(d.a.mark((function e(t){var n,a,s,r,i,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2&&void 0!==o[2]?o[2]:null,s=o.length>3&&void 0!==o[3]?o[3]:{Authorization:"Bearer "+c.token},e.next=5,fetch(t,{method:n,body:a,headers:s});case 5:return r=e.sent,e.next=8,r.json();case 8:return i=e.sent,console.log(i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),r=B({email:{value:"",isValid:!1},password:{value:"",isValid:!1},name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),i=Object(o.a)(r,3),j=i[0],u=i[1],b=(i[2],function(){var e=Object(O.a)(d.a.mark((function e(n){var a,r,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log(j.Inputs.name.value),(a=new FormData).append("name",j.Inputs.name.value),a.append("email",j.Inputs.email.value),a.append("password",j.Inputs.password.value),a.append("image",j.Inputs.image.value),t){e.next=24;break}e.prev=9,console.log(a),r=Object(v.a)(a.entries());try{for(r.s();!(i=r.n()).done;)o=i.value,console.log(o[0]+", "+o[1])}catch(u){r.e(u)}finally{r.f()}return e.next=15,s("".concat("http://localhost:3000","/signup"),"POST",a);case 15:e.sent.auth&&c.login(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("Invalid entry");case 22:e.next=29;break;case 24:return console.log("reached"),e.next=27,s("".concat("http://localhost:3000","/update/").concat(t),"PATCH",a);case 27:l=e.sent,console.log(l);case 29:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)("form",{class:"form",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)(C,{type:"text",id:"name",element:"input",onChange:u,validators:[g()]})}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)(C,{type:"text",id:"email",element:"input",onChange:u,validators:[g()]})}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)(C,{type:"text",id:"password",element:"input",onChange:u,validators:[g()]})}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)($,{id:"image",onInput:u})}),Object(n.jsx)("div",{className:"form-element-div",children:Object(n.jsx)("button",{onClick:b,disabled:!j.isValid,children:"SIGN UP"})})]})},te=function(){var e=Object(a.useContext)(I),t=B({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=function(){var t=Object(O.a)(d.a.mark((function t(c){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,fetch("".concat("http://localhost:3000","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.Inputs.email.value,password:s.Inputs.password.value})});case 3:return n=t.sent,t.next=6,n.json();case 6:if(a=t.sent,console.log(a),console.log(a),!a.auth){t.next=12;break}return t.next=12,e.login(a.profile._id,a.profile.name,a.token);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:"form",children:[Object(n.jsxs)("div",{className:"form-element-div",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)(C,{element:"input",id:"email",onChange:r,validators:[g()]})]}),Object(n.jsxs)("div",{className:"form-element-div",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)(C,{element:"input",id:"password",onChange:r,validators:[g()]})]}),Object(n.jsxs)("div",{className:"form-element-div",children:[Object(n.jsx)("button",{onClick:i,disabled:!s.isValid,children:"Login"}),Object(n.jsx)("button",{onClick:function(t){t.preventDefault(),console.log(e.userId)},children:"USER"})]})]})},ce=(c(106),c(122)),ne=function(){var e=Object(O.a)(d.a.mark((function e(t){var c,n,a,s,r,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,a=i.length>3&&void 0!==i[3]?i[3]:{"Content-Type":"application/json"},e.next=5,fetch(t,{method:c,body:n,headers:a});case 5:return s=e.sent,e.next=8,s.json();case 8:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=Object(a.useState)(null),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useContext)(I);return Object(a.useEffect)(Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("".concat("http://localhost:3000","/profile/").concat(l.userId));case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(n.jsx)("div",{className:"profile",children:r&&Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"profile__form",children:[Object(n.jsx)("div",{className:"profile__image",children:Object(n.jsx)("img",{src:r.image,alt:"profile"})}),Object(n.jsxs)("div",{className:"profile__info",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"profile__category",children:"NAME:"})," ",Object(n.jsx)("span",{children:r.name})]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"profile__category",children:"EMAIL:"})," ",r.email]})}),Object(n.jsx)("div",{className:"button__div",children:Object(n.jsx)(ce.a,{variant:"contained",color:"default",component:j.b,to:"/update/".concat(r._id),children:"Upload"})})]})]})})})};var se=function(){var e,t=Object(a.useState)(),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(),u=Object(o.a)(i,2),d=u[0],b=u[1],O=Object(a.useState)(),h=Object(o.a)(O,2),p=h[0],m=h[1],x=Object(a.useState)(),v=Object(o.a)(x,2),f=v[0],g=v[1],N=Object(a.useState)(),k=Object(o.a)(N,2),C=k[0],w=k[1],y=Object(a.useState)(),S=Object(o.a)(y,2),E=S[0],T=S[1],L=Object(a.useState)(),D=Object(o.a)(L,2),P=D[0],V=D[1],B=(Object(a.useContext)(I),Object(a.useContext)(G),Object(a.useCallback)((function(e,t,c,n){r(c),console.log(e),b(e),m(t);var a=n||new Date((new Date).getTime()+36e5);V(a),localStorage.setItem("userData",JSON.stringify({userId:e,userName:t,token:c,expirationDate:a.toISOString()}))}),[])),F=function(){r(null),b(null),m(null),V(null),localStorage.removeItem("userData")};Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expirationDate)>new Date&&B(e.id,e.name,e.token,e.expirationDate)}),[B]),Object(a.useEffect)((function(){if(s&&P){var t=P.getTime()-(new Date).getTime();e=setTimeout((function(){F()}),t)}else clearTimeout(e)}),[P,s,F]);var A,M=Object(a.useCallback)((function(){g(!0)})),U=Object(a.useCallback)((function(){w(!0)})),q=Object(a.useCallback)((function(){T(!0)}));return A=s?Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,children:Object(n.jsx)(_,{})}),Object(n.jsx)(l.b,{path:"/movie/:movie_id",exact:!0,children:Object(n.jsx)(R,{})}),Object(n.jsx)(l.b,{path:"/discover",exact:!0,children:Object(n.jsx)(Y,{})}),Object(n.jsx)(l.b,{path:"/actor/:actor_id",exact:!0,children:Object(n.jsx)(X,{})}),Object(n.jsx)(l.b,{path:"/update/:profileId",children:Object(n.jsx)(ee,{})}),Object(n.jsx)(l.b,{path:"/profile",exact:!0,children:Object(n.jsx)(ae,{})}),Object(n.jsx)(l.a,{to:"/"})]}):Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,children:Object(n.jsx)(_,{})}),Object(n.jsx)(l.b,{path:"/movie/:movie_id",exact:!0,children:Object(n.jsx)(R,{})}),Object(n.jsx)(l.b,{path:"/discover",exact:!0,children:Object(n.jsx)(Y,{})}),Object(n.jsx)(l.b,{path:"/actor/:actor_id",exact:!0,children:Object(n.jsx)(X,{})}),Object(n.jsx)(l.b,{path:"/signup",children:Object(n.jsx)(ee,{})}),Object(n.jsx)(l.b,{path:"/login",children:Object(n.jsx)(te,{})}),Object(n.jsx)(l.a,{to:"/"})]}),Object(n.jsx)(G.Provider,{value:{pingMovie:M,pingTv:U,pingPeople:q,tvReady:C,movieReady:f,peopleReady:E},children:Object(n.jsx)(I.Provider,{value:{login:B,logout:F,token:s,isLoggedIn:s,userId:d,userName:p},children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(z,{}),Object(n.jsx)("main",{className:"main",children:A})]})})})},re=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,124)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(se,{})}),document.getElementById("root")),re()},30:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.7ace2715.chunk.js.map